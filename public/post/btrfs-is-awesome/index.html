<!doctype html><html class=html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Btrfs Is Awesome | The Manual</title>
<link rel=icon href=/favicon.ico><meta name=description content="I resized my btrfs partition and it was fun!"><meta property="og:url" content="https://jessejaggars.com/post/btrfs-is-awesome/"><meta property="og:site_name" content="The Manual"><meta property="og:title" content="Btrfs Is Awesome"><meta property="og:description" content="I resized my btrfs partition and it was fun!"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-04-15T18:46:22-04:00"><meta property="article:modified_time" content="2021-04-15T18:46:22-04:00"><meta itemprop=name content="Btrfs Is Awesome"><meta itemprop=description content="I resized my btrfs partition and it was fun!"><meta itemprop=datePublished content="2021-04-15T18:46:22-04:00"><meta itemprop=dateModified content="2021-04-15T18:46:22-04:00"><meta itemprop=wordCount content="148"><link rel=stylesheet href=/css/style.min.2da01a84bd50849aec81fd38b656e80d99beb692114352877a23d2271655e0cd.css integrity="sha256-LaAahL1QhJrsgf04tlboDZm+tpIRQ1KHeiPSJxZV4M0=" crossorigin=anonymous></head><body class=body><header class=header><h1>The Manual</h1><nav class="menu language"><ul class="menu__list language__list"><li class=menu__item><a class=menu__link href=/>Home</a></li><li class=menu__item><a class=menu__link href=/tags>Tags</a></li></ul></nav></header><main class=main><h1>Btrfs Is Awesome</h1><time class=published-date datetime=2021-04-15T18:46:22-04:00>2021-04-15</time><p>I just had a really enjoyable software experience. Without explaining <em>how</em> I
got into this situation, let me just explain the starting conditions.</p><p>I have a 1TB nvme disk in my system and had two btrfs partitions, <code>/</code>
and <code>/home</code>. On this same system I have a handful of other partitions
to enable dual-booting. The layout was something like this:</p><pre tabindex=0><code>[[ntfs      512GB].....................[/home 64GB][/    64GB]]
</code></pre><p>And I wanted a layout more like this:</p><pre tabindex=0><code>[[ntfs      512GB].....................[/home 128GB][/    64GB]]
</code></pre><p>So I create a new 128GB partition to land the contents of <code>/home</code> on and
the magic happened:</p><pre tabindex=0><code>btrfs replace start /dev/$old-home-device /dev/$new-home-device /home
</code></pre><p>And in an instant my <code>/home</code> filesystem was moved and the old filesystem
was disabled. I involuntarily yelped with joy when I had realized that
the process compeleted so quickly.</p><p>The final bit is to resize the filesystem to fit the entire partition:</p><pre tabindex=0><code>btrfs filesystem resize max /home
</code></pre><nav class=page-nav><a class=page-nav__previous-link href=/post/pairing/>Prev: Pairing</a>
<a class=page-nav__next-link href=/post/post-pandemic-anxiety/>Next: Post Pandemic Anxiety</a></nav></main><footer class=footer><p class=footer__copyright-notice>&copy; 2024</p><p class=footer__theme-info>Built with <a href=https://gohugo.io>Hugo</a> and <a href=https://github.com/CyrusYip/hugo-theme-yue>Yue</a></p></footer></body></html>